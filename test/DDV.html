<script src="http://localhost:8080/ptx-ddv.js"></script>

<script src="https://d3js.org/d3.v6.min.js"></script>
<script src='https://d3js.org/d3-hexbin.v0.2.min.js'></script>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<div id="mindmap"></div>

<script>

var plot = null;

// Sources (Sample CV File)
var url = 'https://megatron.headai.com/analysis/TextToGraph/TextToGraph_10wpxMCmDE1715179575391.json'

const props = {
    width: 1200,
    height: 800,
    fontFamily: 'arial',
    fontSize: 20,
    hideLegend: false,
    backgroundColor: '#00A0A0',
    figSize: 100,
    centerNode: 'containers',
    centerCameraAround: 'cuda',
    initialZoom: 0.8,
    actionOnClick: 'highlight',
    colors: ['#A0A000'],
    colorScale: 'log',
    strokeColor: 'red',
    showActionButtons: true,
    relevancyMode: false,
    onlyNearestNeighbours: false,
    maxNodes: 20,
    filterMinWeight: 3,
    filterMinValue: 4,
    onlyCompounds: true,
    hideNodes: ['data'],
}

d3.json(url).then((json)=>{
    const plotType = 'hexagon';
    plot = ddv.visualizers.wordmap.buildWordMap(json, plotType, props);
    plot.attachOn('div#mindmap')
    plot.refresh();
});

</script>